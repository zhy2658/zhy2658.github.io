/*! For license information please see 549.bundle.js.LICENSE.txt */
(self.webpackChunkgithub_page=self.webpackChunkgithub_page||[]).push([[549],{3807:function(e){e.exports=function(){"use strict";function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function t(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?e(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}function i(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},a.apply(this,arguments)}function n(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var o={exports:{}};!function(e){"undefined"!=typeof window&&function(t){var r=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,i=t.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),a=i&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),n=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,l=(i||n)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(e){var t,r,l,s,u,c,h,f,d;if(!(t=e.match(o)))throw new Error("invalid data URI");for(r=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),l=!!t[4],s=e.slice(t[0].length),u=l?atob(s):decodeURIComponent(s),c=new ArrayBuffer(u.length),h=new Uint8Array(c),f=0;f<u.length;f+=1)h[f]=u.charCodeAt(f);return i?new Blob([a?h:c],{type:r}):((d=new n).append(c),d.getBlob(r))};t.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(e,t,i){var a=this;setTimeout((function(){i&&r.toDataURL&&l?e(l(a.toDataURL(t,i))):e(a.mozGetAsFile("blob",t))}))}:r.toDataURL&&l&&(r.msToBlob?r.toBlob=function(e,t,i){var a=this;setTimeout((function(){(t&&"image/png"!==t||i)&&r.toDataURL&&l?e(l(a.toDataURL(t,i))):e(a.msToBlob(t))}))}:r.toBlob=function(e,t,r){var i=this;setTimeout((function(){e(l(i.toDataURL(t,r)))}))})),e.exports?e.exports=l:t.dataURLtoBlob=l}(window)}(o);var l=o.exports,s={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},u="undefined"!=typeof window&&void 0!==window.document?window:{},c=function(e){return e>0&&e<1/0},h=Array.prototype.slice;function f(e){return Array.from?Array.from(e):h.call(e)}var d=/^image\/.+$/;function p(e){return d.test(e)}var v=String.fromCharCode;var m=u.btoa;function b(e,t){for(var r=[],i=new Uint8Array(e);i.length>0;)r.push(v.apply(null,f(i.subarray(0,8192)))),i=i.subarray(8192);return"data:".concat(t,";base64,").concat(m(r.join("")))}function g(e){var t,r=new DataView(e);try{var i,a,n;if(255===r.getUint8(0)&&216===r.getUint8(1))for(var o=r.byteLength,l=2;l+1<o;){if(255===r.getUint8(l)&&225===r.getUint8(l+1)){a=l;break}l+=1}if(a){var s=a+10;if("Exif"===function(e,t,r){var i,a="";for(r+=t,i=t;i<r;i+=1)a+=v(e.getUint8(i));return a}(r,a+4,4)){var u=r.getUint16(s);if(((i=18761===u)||19789===u)&&42===r.getUint16(s+2,i)){var c=r.getUint32(s+4,i);c>=8&&(n=s+c)}}}if(n){var h,f,d=r.getUint16(n,i);for(f=0;f<d;f+=1)if(h=n+12*f+2,274===r.getUint16(h,i)){h+=8,t=r.getUint16(h,i),r.setUint16(h,1,i);break}}}catch(e){t=1}return t}var y=/\.\d*(?:0|9){12}\d*$/;function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return y.test(e)?Math.round(e*t)/t:e}function k(e){var t=e.aspectRatio,r=e.height,i=e.width,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",n=c(i),o=c(r);if(n&&o){var l=r*t;("contain"===a||"none"===a)&&l>i||"cover"===a&&l<i?r=i/t:i=r*t}else n?r=i/t:o&&(i=r*t);return{width:i,height:r}}var x=u.ArrayBuffer,U=u.FileReader,L=u.URL||u.webkitURL,B=/\.\w+$/,O=u.Compressor;return function(){function e(r,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.file=r,this.exif=[],this.image=new Image,this.options=t(t({},s),i),this.aborted=!1,this.result=null,this.init()}return i=e,o=[{key:"noConflict",value:function(){return window.Compressor=O,e}},{key:"setDefaults",value:function(e){a(s,e)}}],(n=[{key:"init",value:function(){var e,t=this,r=this.file,i=this.options;if(e=r,"undefined"!=typeof Blob&&(e instanceof Blob||"[object Blob]"===Object.prototype.toString.call(e))){var n=r.type;if(p(n))if(L&&U){x||(i.checkOrientation=!1,i.retainExif=!1);var o="image/jpeg"===n,l=o&&i.checkOrientation,s=o&&i.retainExif;if(!L||l||s){var u=new U;this.reader=u,u.onload=function(e){var i=e.target.result,o={},u=1;l&&(u=g(i))>1&&a(o,function(e){var t=0,r=1,i=1;switch(e){case 2:r=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,r=-1;break;case 8:t=-90}return{rotate:t,scaleX:r,scaleY:i}}(u)),s&&(t.exif=function(e){for(var t=f(new Uint8Array(e)),r=t.length,i=[],a=0;a+3<r;){var n=t[a],o=t[a+1];if(255===n&&218===o)break;if(255===n&&216===o)a+=2;else{var l=a+(256*t[a+2]+t[a+3])+2,s=t.slice(a,l);i.push(s),a=l}}return i.reduce((function(e,t){return 255===t[0]&&225===t[1]?e.concat(t):e}),[])}(i)),o.url=l||s?!L||u>1?b(i,n):L.createObjectURL(r):i,t.load(o)},u.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},u.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},u.onloadend=function(){t.reader=null},l||s?u.readAsArrayBuffer(r):u.readAsDataURL(r)}else this.load({url:L.createObjectURL(r)})}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(e){var r=this,i=this.file,a=this.image;a.onload=function(){r.draw(t(t({},e),{},{naturalWidth:a.naturalWidth,naturalHeight:a.naturalHeight}))},a.onabort=function(){r.fail(new Error("Aborted to load the image."))},a.onerror=function(){r.fail(new Error("Failed to load the image."))},u.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(u.navigator.userAgent)&&(a.crossOrigin="anonymous"),a.alt=i.name,a.src=e.url}},{key:"draw",value:function(e){var t=this,r=e.naturalWidth,i=e.naturalHeight,a=e.rotate,n=void 0===a?0:a,o=e.scaleX,s=void 0===o?1:o,u=e.scaleY,h=void 0===u?1:u,d=this.file,v=this.image,m=this.options,g=document.createElement("canvas"),y=g.getContext("2d"),x=Math.abs(n)%180==90,L=("contain"===m.resize||"cover"===m.resize)&&c(m.width)&&c(m.height),B=Math.max(m.maxWidth,0)||1/0,O=Math.max(m.maxHeight,0)||1/0,j=Math.max(m.minWidth,0)||0,R=Math.max(m.minHeight,0)||0,A=r/i,E=m.width,T=m.height;if(x){var M=[O,B];B=M[0],O=M[1];var z=[R,j];j=z[0],R=z[1];var C=[T,E];E=C[0],T=C[1]}L&&(A=E/T);var D=k({aspectRatio:A,width:B,height:O},"contain");B=D.width,O=D.height;var F=k({aspectRatio:A,width:j,height:R},"cover");if(j=F.width,R=F.height,L){var P=k({aspectRatio:A,width:E,height:T},m.resize);E=P.width,T=P.height}else{var H=k({aspectRatio:A,width:E,height:T}),S=H.width;E=void 0===S?r:S;var W=H.height;T=void 0===W?i:W}var I=-(E=Math.floor(w(Math.min(Math.max(E,j),B))))/2,K=-(T=Math.floor(w(Math.min(Math.max(T,R),O))))/2,_=E,q=T,V=[];if(L){var X,J,$,G,Y=k({aspectRatio:A,width:r,height:i},{contain:"cover",cover:"contain"}[m.resize]);$=Y.width,G=Y.height,X=(r-$)/2,J=(i-G)/2,V.push(X,J,$,G)}if(V.push(I,K,_,q),x){var N=[T,E];E=N[0],T=N[1]}g.width=E,g.height=T,p(m.mimeType)||(m.mimeType=d.type);var Q="transparent";d.size>m.convertSize&&m.convertTypes.indexOf(m.mimeType)>=0&&(m.mimeType="image/jpeg");var Z="image/jpeg"===m.mimeType;if(Z&&(Q="#fff"),y.fillStyle=Q,y.fillRect(0,0,E,T),m.beforeDraw&&m.beforeDraw.call(this,y,g),!this.aborted&&(y.save(),y.translate(E/2,T/2),y.rotate(n*Math.PI/180),y.scale(s,h),y.drawImage.apply(y,[v].concat(V)),y.restore(),m.drew&&m.drew.call(this,y,g),!this.aborted)){var ee=function(e){if(!t.aborted){var a=function(e){return t.done({naturalWidth:r,naturalHeight:i,result:e})};if(e&&Z&&m.retainExif&&t.exif&&t.exif.length>0){var n=function(e){return a(l(b(function(e,t){var r=f(new Uint8Array(e));if(255!==r[2]||224!==r[3])return e;var i=256*r[4]+r[5],a=[255,216].concat(t,r.slice(4+i));return new Uint8Array(a)}(e,t.exif),m.mimeType)))};if(e.arrayBuffer)e.arrayBuffer().then(n).catch((function(){t.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))}));else{var o=new U;t.reader=o,o.onload=function(e){var t=e.target;n(t.result)},o.onabort=function(){t.fail(new Error("Aborted to read the compressed image with FileReader."))},o.onerror=function(){t.fail(new Error("Failed to read the compressed image with FileReader."))},o.onloadend=function(){t.reader=null},o.readAsArrayBuffer(e)}}else a(e)}};g.toBlob?g.toBlob(ee,m.mimeType,m.quality):ee(l(g.toDataURL(m.mimeType,m.quality)))}}},{key:"done",value:function(e){var t,r,i=e.naturalWidth,a=e.naturalHeight,n=e.result,o=this.file,l=this.image,s=this.options;if(L&&0===l.src.indexOf("blob:")&&L.revokeObjectURL(l.src),n)if(s.strict&&!s.retainExif&&n.size>o.size&&s.mimeType===o.type&&!(s.width>i||s.height>a||s.minWidth>i||s.minHeight>a||s.maxWidth<i||s.maxHeight<a))n=o;else{var u=new Date;n.lastModified=u.getTime(),n.lastModifiedDate=u,n.name=o.name,n.name&&n.type!==o.type&&(n.name=n.name.replace(B,(t=n.type,"jpeg"===(r=p(t)?t.substr(6):"")&&(r="jpg"),".".concat(r))))}else n=o;this.result=n,s.success&&s.success.call(this,n)}},{key:"fail",value:function(e){var t=this.options;if(!t.error)throw e;t.error.call(this,e)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}])&&r(i.prototype,n),o&&r(i,o),Object.defineProperty(i,"prototype",{writable:!1}),e;var i,n,o}()}()},7549:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var i=r(641),a=r(3751),n=r(33),o=r(953),l=r(3807),s=r.n(l);const u={style:{margin:"10px 0"}},c={key:0},h=["src"],f=["href"];var d=(0,i.pM)({__name:"Compress",props:{imgFile:{}},setup(e){const t=e,r=(0,o.Kh)({name:"",size:0,type:"",link:"",width:0,height:0}),l=(0,o.KR)(.7),d=(0,o.KR)(0),p=(0,o.KR)(0),v=async()=>{let e={quality:l.value,success(e){r.name=e.name,r.size=e.size,r.type=e.type,r.link=URL.createObjectURL(e)},error(e){console.log(e.message)}};d.value&&(e.height=d.value),p.value&&(e.width=p.value),new(s())(t.imgFile,e)};return(e,o)=>((0,i.uX)(),(0,i.CE)("div",null,[o[8]||(o[8]=(0,i.Lk)("h1",null,"图片压缩",-1)),o[9]||(o[9]=(0,i.Lk)("p",null,"提示：此压缩模块整个过程由前端完成，无需后端参与。高宽推荐选择其中一个，等比例缩放图片，不设置高宽尺寸则是原图大小。",-1)),(0,i.Lk)("div",u,[(0,i.Lk)("div",null,[o[3]||(o[3]=(0,i.Lk)("label",null,"高度：",-1)),(0,i.bo)((0,i.Lk)("input",{class:"input",type:"",placeholder:"高度","onUpdate:modelValue":o[0]||(o[0]=e=>d.value=e),style:{"max-width":"400px"}},null,512),[[a.Jo,d.value]])]),(0,i.Lk)("div",null,[o[4]||(o[4]=(0,i.Lk)("label",null,"宽度：",-1)),(0,i.bo)((0,i.Lk)("input",{class:"input",type:"",placeholder:"宽度","onUpdate:modelValue":o[1]||(o[1]=e=>p.value=e),style:{"max-width":"400px"}},null,512),[[a.Jo,p.value]])]),(0,i.Lk)("div",null,[o[5]||(o[5]=(0,i.Lk)("label",null,"图片质量：",-1)),(0,i.bo)((0,i.Lk)("input",{class:"input",type:"number",placeholder:"Text input","onUpdate:modelValue":o[2]||(o[2]=e=>l.value=e),style:{"max-width":"400px"}},null,512),[[a.Jo,l.value]])]),(0,i.Lk)("button",{class:"button is-primary",onClick:v},"压缩")]),(0,i.Lk)("div",null,[(0,i.Lk)("p",null,"图片原始大小为："+(0,n.v_)((t.imgFile.size/1024/1024).toFixed(2))+"MB",1),r.link?((0,i.uX)(),(0,i.CE)("div",c,[o[7]||(o[7]=(0,i.Lk)("p",null,"质量为0.7，压缩成功！",-1)),(0,i.Lk)("p",null,"压缩后大小为："+(0,n.v_)((r.size/1024/1024).toFixed(2))+"MB",1),(0,i.Lk)("div",null,[(0,i.Lk)("img",{src:r.link,style:{height:"200px"},alt:""},null,8,h)]),(0,i.Lk)("a",{href:r.link,download:""},o[6]||(o[6]=[(0,i.Lk)("button",{class:"button is-link"},"下载图片",-1)]),8,f)])):(0,i.Q3)("v-if",!0)])]))}})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Qm5SLEVBQU04USxRQUFjLEtBQUksS0FBTyxNQUFNZ0IsUUFBUSxJQUFNLEtBQU0sR0FDdEhiLEVBQWtCLE9BQ1osV0FBYyxRQUFvQixNQUFPUCxFQUFZLENBQ3BEZSxFQUFPLEtBQU9BLEVBQU8sSUFBSyxRQUFvQixJQUFLLEtBQU0sZ0JBQWlCLEtBQzFFLFFBQW9CLElBQUssS0FBTSxXQUFZLFNBQWtCUixFQUFjN08sS0FBTyxLQUM5RSxNQUFNMFAsUUFBUSxJQUFNLEtBQU0sSUFDOUIsUUFBb0IsTUFBTyxLQUFNLEVBQzdCLFFBQW9CLE1BQU8sQ0FDdkIzRixJQUFLOEUsRUFBY0MsS0FDbkJULE1BQU8sQ0FBRSxPQUFVLFNBQ25CeEUsSUFBSyxJQUNOLEtBQU0sRUFBZTBFLE1BRTVCLFFBQW9CLElBQUssQ0FDckJvQixLQUFNZCxFQUFjQyxLQUNwQmMsU0FBVSxJQUNYUCxFQUFPLEtBQU9BLEVBQU8sR0FBSyxFQUN6QixRQUFvQixTQUFVLENBQUVDLE1BQU8sa0JBQW9CLFFBQVMsS0FDcEUsRUFBZWQsT0FFckIsUUFBb0IsUUFBUSxPQUlsRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dpdGh1Yi1wYWdlLy4vbm9kZV9tb2R1bGVzL2NvbXByZXNzb3Jqcy9kaXN0L2NvbXByZXNzb3IuanMiLCJ3ZWJwYWNrOi8vZ2l0aHViLXBhZ2UvLi9zcmMvZmVhdHVyZXMvaW1hZ2UtdG9vbHMvY29tcG9uZW50cy9Db21wcmVzcy52dWU/YTIxMCIsIndlYnBhY2s6Ly9naXRodWItcGFnZS8uL3NyYy9mZWF0dXJlcy9pbWFnZS10b29scy9jb21wb25lbnRzL0NvbXByZXNzLnZ1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIENvbXByZXNzb3IuanMgdjEuMi4xXG4gKiBodHRwczovL2Zlbmd5dWFuY2hlbi5naXRodWIuaW8vY29tcHJlc3NvcmpzXG4gKlxuICogQ29weXJpZ2h0IDIwMTgtcHJlc2VudCBDaGVuIEZlbmd5dWFuXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqXG4gKiBEYXRlOiAyMDIzLTAyLTI4VDE0OjA5OjQxLjczMlpcbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIChnbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5Db21wcmVzc29yID0gZmFjdG9yeSgpKTtcbn0pKHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xuICAgICAgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xuICB9XG4gIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICAgIGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgIH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwge1xuICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgfSk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9XG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpO1xuICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuICBmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfTtcbiAgICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuICBmdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7XG4gICAgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdO1xuICAgIGlmIChwcmltICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpO1xuICAgICAgaWYgKHR5cGVvZiByZXMgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gICAgfVxuICAgIHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpO1xuICB9XG4gIGZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykge1xuICAgIHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTtcbiAgICByZXR1cm4gdHlwZW9mIGtleSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpO1xuICB9XG5cbiAgdmFyIGNhbnZhc1RvQmxvYiA9IHtleHBvcnRzOiB7fX07XG5cbiAgLypcbiAgICogSmF2YVNjcmlwdCBDYW52YXMgdG8gQmxvYlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vYmx1ZWltcC9KYXZhU2NyaXB0LUNhbnZhcy10by1CbG9iXG4gICAqXG4gICAqIENvcHlyaWdodCAyMDEyLCBTZWJhc3RpYW4gVHNjaGFuXG4gICAqIGh0dHBzOi8vYmx1ZWltcC5uZXRcbiAgICpcbiAgICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxuICAgKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICAgKlxuICAgKiBCYXNlZCBvbiBzdGFja292ZXJmbG93IHVzZXIgU3RvaXZlJ3MgY29kZSBzbmlwcGV0OlxuICAgKiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS80OTk4OTA4XG4gICAqL1xuICAoZnVuY3Rpb24gKG1vZHVsZSkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgICAoZnVuY3Rpb24gKHdpbmRvdykge1xuXG4gICAgICB2YXIgQ2FudmFzUHJvdG90eXBlID0gd2luZG93LkhUTUxDYW52YXNFbGVtZW50ICYmIHdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGU7XG4gICAgICB2YXIgaGFzQmxvYkNvbnN0cnVjdG9yID0gd2luZG93LkJsb2IgJiYgZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBCb29sZWFuKG5ldyBCbG9iKCkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KCk7XG4gICAgICB2YXIgaGFzQXJyYXlCdWZmZXJWaWV3U3VwcG9ydCA9IGhhc0Jsb2JDb25zdHJ1Y3RvciAmJiB3aW5kb3cuVWludDhBcnJheSAmJiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFtuZXcgVWludDhBcnJheSgxMDApXSkuc2l6ZSA9PT0gMTAwO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KCk7XG4gICAgICB2YXIgQmxvYkJ1aWxkZXIgPSB3aW5kb3cuQmxvYkJ1aWxkZXIgfHwgd2luZG93LldlYktpdEJsb2JCdWlsZGVyIHx8IHdpbmRvdy5Nb3pCbG9iQnVpbGRlciB8fCB3aW5kb3cuTVNCbG9iQnVpbGRlcjtcbiAgICAgIHZhciBkYXRhVVJJUGF0dGVybiA9IC9eZGF0YTooKC4qPykoO2NoYXJzZXQ9Lio/KT8pKDtiYXNlNjQpPywvO1xuICAgICAgdmFyIGRhdGFVUkx0b0Jsb2IgPSAoaGFzQmxvYkNvbnN0cnVjdG9yIHx8IEJsb2JCdWlsZGVyKSAmJiB3aW5kb3cuYXRvYiAmJiB3aW5kb3cuQXJyYXlCdWZmZXIgJiYgd2luZG93LlVpbnQ4QXJyYXkgJiYgZnVuY3Rpb24gKGRhdGFVUkkpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMsIG1lZGlhVHlwZSwgaXNCYXNlNjQsIGRhdGFTdHJpbmcsIGJ5dGVTdHJpbmcsIGFycmF5QnVmZmVyLCBpbnRBcnJheSwgaSwgYmI7XG4gICAgICAgIC8vIFBhcnNlIHRoZSBkYXRhVVJJIGNvbXBvbmVudHMgYXMgcGVyIFJGQyAyMzk3XG4gICAgICAgIG1hdGNoZXMgPSBkYXRhVVJJLm1hdGNoKGRhdGFVUklQYXR0ZXJuKTtcbiAgICAgICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGRhdGEgVVJJJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVmYXVsdCB0byB0ZXh0L3BsYWluO2NoYXJzZXQ9VVMtQVNDSUlcbiAgICAgICAgbWVkaWFUeXBlID0gbWF0Y2hlc1syXSA/IG1hdGNoZXNbMV0gOiAndGV4dC9wbGFpbicgKyAobWF0Y2hlc1szXSB8fCAnO2NoYXJzZXQ9VVMtQVNDSUknKTtcbiAgICAgICAgaXNCYXNlNjQgPSAhIW1hdGNoZXNbNF07XG4gICAgICAgIGRhdGFTdHJpbmcgPSBkYXRhVVJJLnNsaWNlKG1hdGNoZXNbMF0ubGVuZ3RoKTtcbiAgICAgICAgaWYgKGlzQmFzZTY0KSB7XG4gICAgICAgICAgLy8gQ29udmVydCBiYXNlNjQgdG8gcmF3IGJpbmFyeSBkYXRhIGhlbGQgaW4gYSBzdHJpbmc6XG4gICAgICAgICAgYnl0ZVN0cmluZyA9IGF0b2IoZGF0YVN0cmluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQ29udmVydCBiYXNlNjQvVVJMRW5jb2RlZCBkYXRhIGNvbXBvbmVudCB0byByYXcgYmluYXJ5OlxuICAgICAgICAgIGJ5dGVTdHJpbmcgPSBkZWNvZGVVUklDb21wb25lbnQoZGF0YVN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV3JpdGUgdGhlIGJ5dGVzIG9mIHRoZSBzdHJpbmcgdG8gYW4gQXJyYXlCdWZmZXI6XG4gICAgICAgIGFycmF5QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ5dGVTdHJpbmcubGVuZ3RoKTtcbiAgICAgICAgaW50QXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBieXRlU3RyaW5nLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgaW50QXJyYXlbaV0gPSBieXRlU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV3JpdGUgdGhlIEFycmF5QnVmZmVyIChvciBBcnJheUJ1ZmZlclZpZXcpIHRvIGEgYmxvYjpcbiAgICAgICAgaWYgKGhhc0Jsb2JDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgIHJldHVybiBuZXcgQmxvYihbaGFzQXJyYXlCdWZmZXJWaWV3U3VwcG9ydCA/IGludEFycmF5IDogYXJyYXlCdWZmZXJdLCB7XG4gICAgICAgICAgICB0eXBlOiBtZWRpYVR5cGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBiYiA9IG5ldyBCbG9iQnVpbGRlcigpO1xuICAgICAgICBiYi5hcHBlbmQoYXJyYXlCdWZmZXIpO1xuICAgICAgICByZXR1cm4gYmIuZ2V0QmxvYihtZWRpYVR5cGUpO1xuICAgICAgfTtcbiAgICAgIGlmICh3aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQgJiYgIUNhbnZhc1Byb3RvdHlwZS50b0Jsb2IpIHtcbiAgICAgICAgaWYgKENhbnZhc1Byb3RvdHlwZS5tb3pHZXRBc0ZpbGUpIHtcbiAgICAgICAgICBDYW52YXNQcm90b3R5cGUudG9CbG9iID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0eXBlLCBxdWFsaXR5KSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKHF1YWxpdHkgJiYgQ2FudmFzUHJvdG90eXBlLnRvRGF0YVVSTCAmJiBkYXRhVVJMdG9CbG9iKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YVVSTHRvQmxvYihzZWxmLnRvRGF0YVVSTCh0eXBlLCBxdWFsaXR5KSkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHNlbGYubW96R2V0QXNGaWxlKCdibG9iJywgdHlwZSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKENhbnZhc1Byb3RvdHlwZS50b0RhdGFVUkwgJiYgZGF0YVVSTHRvQmxvYikge1xuICAgICAgICAgIGlmIChDYW52YXNQcm90b3R5cGUubXNUb0Jsb2IpIHtcbiAgICAgICAgICAgIENhbnZhc1Byb3RvdHlwZS50b0Jsb2IgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHR5cGUsIHF1YWxpdHkpIHtcbiAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHR5cGUgJiYgdHlwZSAhPT0gJ2ltYWdlL3BuZycgfHwgcXVhbGl0eSkgJiYgQ2FudmFzUHJvdG90eXBlLnRvRGF0YVVSTCAmJiBkYXRhVVJMdG9CbG9iKSB7XG4gICAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhVVJMdG9CbG9iKHNlbGYudG9EYXRhVVJMKHR5cGUsIHF1YWxpdHkpKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHNlbGYubXNUb0Jsb2IodHlwZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBDYW52YXNQcm90b3R5cGUudG9CbG9iID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0eXBlLCBxdWFsaXR5KSB7XG4gICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YVVSTHRvQmxvYihzZWxmLnRvRGF0YVVSTCh0eXBlLCBxdWFsaXR5KSkpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBkYXRhVVJMdG9CbG9iO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmRhdGFVUkx0b0Jsb2IgPSBkYXRhVVJMdG9CbG9iO1xuICAgICAgfVxuICAgIH0pKHdpbmRvdyk7XG4gIH0pKGNhbnZhc1RvQmxvYik7XG4gIHZhciB0b0Jsb2IgPSBjYW52YXNUb0Jsb2IuZXhwb3J0cztcblxuICB2YXIgaXNCbG9iID0gZnVuY3Rpb24gaXNCbG9iKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBCbG9iID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBCbG9iIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEJsb2JdJztcbiAgfTtcblxuICB2YXIgREVGQVVMVFMgPSB7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIG91dHB1dCB0aGUgb3JpZ2luYWwgaW1hZ2UgaW5zdGVhZCBvZiB0aGUgY29tcHJlc3NlZCBvbmVcbiAgICAgKiB3aGVuIHRoZSBzaXplIG9mIHRoZSBjb21wcmVzc2VkIGltYWdlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgb3JpZ2luYWwgb25lJ3NcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzdHJpY3Q6IHRydWUsXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHJlYWQgdGhlIGltYWdlJ3MgRXhpZiBPcmllbnRhdGlvbiBpbmZvcm1hdGlvbixcbiAgICAgKiBhbmQgdGhlbiByb3RhdGUgb3IgZmxpcCB0aGUgaW1hZ2UgYXV0b21hdGljYWxseS5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjaGVja09yaWVudGF0aW9uOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiByZXRhaW4gdGhlIGltYWdlJ3MgRXhpZiBpbmZvcm1hdGlvbiBhZnRlciBjb21wcmVzc2VkLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICovXG4gICAgcmV0YWluRXhpZjogZmFsc2UsXG4gICAgLyoqXG4gICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGUgb3V0cHV0IGltYWdlLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgbWF4V2lkdGg6IEluZmluaXR5LFxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggaGVpZ2h0IG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBtYXhIZWlnaHQ6IEluZmluaXR5LFxuICAgIC8qKlxuICAgICAqIFRoZSBtaW4gd2lkdGggb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIG1pbldpZHRoOiAwLFxuICAgIC8qKlxuICAgICAqIFRoZSBtaW4gaGVpZ2h0IG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBtaW5IZWlnaHQ6IDAsXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogSWYgbm90IHNwZWNpZmllZCwgdGhlIG5hdHVyYWwgd2lkdGggb2YgdGhlIHNvdXJjZSBpbWFnZSB3aWxsIGJlIHVzZWQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB3aWR0aDogdW5kZWZpbmVkLFxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgbmF0dXJhbCBoZWlnaHQgb2YgdGhlIHNvdXJjZSBpbWFnZSB3aWxsIGJlIHVzZWQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBoZWlnaHQ6IHVuZGVmaW5lZCxcbiAgICAvKipcbiAgICAgKiBTZXRzIGhvdyB0aGUgc2l6ZSBvZiB0aGUgaW1hZ2Ugc2hvdWxkIGJlIHJlc2l6ZWQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIHNwZWNpZmllZCBieSB0aGUgYHdpZHRoYCBhbmQgYGhlaWdodGAgb3B0aW9ucy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlc2l6ZTogJ25vbmUnLFxuICAgIC8qKlxuICAgICAqIFRoZSBxdWFsaXR5IG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogSXQgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgYDFgLFxuICAgICAqIGFuZCBvbmx5IGF2YWlsYWJsZSBmb3IgYGltYWdlL2pwZWdgIGFuZCBgaW1hZ2Uvd2VicGAgaW1hZ2VzLlxuICAgICAqIENoZWNrIG91dCB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L3RvQmxvYiBjYW52YXMudG9CbG9ifS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHF1YWxpdHk6IDAuOCxcbiAgICAvKipcbiAgICAgKiBUaGUgbWltZSB0eXBlIG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIG9yaWdpbmFsIG1pbWUgdHlwZSBvZiB0aGUgc291cmNlIGltYWdlIGZpbGUgd2lsbCBiZSB1c2VkLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgbWltZVR5cGU6ICdhdXRvJyxcbiAgICAvKipcbiAgICAgKiBGaWxlcyB3aG9zZSBmaWxlIHR5cGUgaXMgaW5jbHVkZWQgaW4gdGhpcyBsaXN0LFxuICAgICAqIGFuZCB3aG9zZSBmaWxlIHNpemUgZXhjZWVkcyB0aGUgYGNvbnZlcnRTaXplYCB2YWx1ZSB3aWxsIGJlIGNvbnZlcnRlZCB0byBKUEVHcy5cbiAgICAgKiBAdHlwZSB7c3RyaW5n772cQXJyYXl9XG4gICAgICovXG4gICAgY29udmVydFR5cGVzOiBbJ2ltYWdlL3BuZyddLFxuICAgIC8qKlxuICAgICAqIFBORyBmaWxlcyBvdmVyIHRoaXMgc2l6ZSAoNSBNQiBieSBkZWZhdWx0KSB3aWxsIGJlIGNvbnZlcnRlZCB0byBKUEVHcy5cbiAgICAgKiBUbyBkaXNhYmxlIHRoaXMsIGp1c3Qgc2V0IHRoZSB2YWx1ZSB0byBgSW5maW5pdHlgLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgY29udmVydFNpemU6IDUwMDAwMDAsXG4gICAgLyoqXG4gICAgICogVGhlIGhvb2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSBiZWZvcmUgZHJhdyB0aGUgaW1hZ2UgaW50byB0aGUgY2FudmFzIGZvciBjb21wcmVzc2lvbi5cbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgLSBUaGUgMmQgcmVuZGVyaW5nIGNvbnRleHQgb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBUaGUgY2FudmFzIGZvciBjb21wcmVzc2lvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGZ1bmN0aW9uIChjb250ZXh0LCBjYW52YXMpIHtcbiAgICAgKiAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmYnO1xuICAgICAqIH1cbiAgICAgKi9cbiAgICBiZWZvcmVEcmF3OiBudWxsLFxuICAgIC8qKlxuICAgICAqIFRoZSBob29rIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgYWZ0ZXIgZHJldyB0aGUgaW1hZ2UgaW50byB0aGUgY2FudmFzIGZvciBjb21wcmVzc2lvbi5cbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgLSBUaGUgMmQgcmVuZGVyaW5nIGNvbnRleHQgb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBUaGUgY2FudmFzIGZvciBjb21wcmVzc2lvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGZ1bmN0aW9uIChjb250ZXh0LCBjYW52YXMpIHtcbiAgICAgKiAgIGNvbnRleHQuZmlsdGVyID0gJ2dyYXlzY2FsZSgxMDAlKSc7XG4gICAgICogfVxuICAgICAqL1xuICAgIGRyZXc6IG51bGwsXG4gICAgLyoqXG4gICAgICogVGhlIGhvb2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIHN1Y2Nlc3MgdG8gY29tcHJlc3MgdGhlIGltYWdlLlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgLSBUaGUgY29tcHJlc3NlZCBpbWFnZSBGaWxlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhmaWxlKTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgc3VjY2VzczogbnVsbCxcbiAgICAvKipcbiAgICAgKiBUaGUgaG9vayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gZmFpbCB0byBjb21wcmVzcyB0aGUgaW1hZ2UuXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7RXJyb3J9IGVyciAtIEFuIEVycm9yIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgZXJyb3I6IG51bGxcbiAgfTtcblxuICB2YXIgSVNfQlJPV1NFUiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuICB2YXIgV0lORE9XID0gSVNfQlJPV1NFUiA/IHdpbmRvdyA6IHt9O1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBwb3NpdGl2ZSBudW1iZXIuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBwb3NpdGl2ZSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIHZhciBpc1Bvc2l0aXZlTnVtYmVyID0gZnVuY3Rpb24gaXNQb3NpdGl2ZU51bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA+IDAgJiYgdmFsdWUgPCBJbmZpbml0eTtcbiAgfTtcbiAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGFycmF5LWxpa2Ugb3IgaXRlcmFibGUgb2JqZWN0IHRvIGFuIGFycmF5LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSA/IEFycmF5LmZyb20odmFsdWUpIDogc2xpY2UuY2FsbCh2YWx1ZSk7XG4gIH1cbiAgdmFyIFJFR0VYUF9JTUFHRV9UWVBFID0gL15pbWFnZVxcLy4rJC87XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIG1pbWUgdHlwZSBvZiBpbWFnZS5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiBpcyBhIG1pbWUgdHlwZSBvZiBpbWFnZSwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaXNJbWFnZVR5cGUodmFsdWUpIHtcbiAgICByZXR1cm4gUkVHRVhQX0lNQUdFX1RZUEUudGVzdCh2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBpbWFnZSB0eXBlIHRvIGV4dGVuc2lvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVGhlIGltYWdlIHR5cGUgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdGhlIGltYWdlIGV4dGVuc2lvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGltYWdlVHlwZVRvRXh0ZW5zaW9uKHZhbHVlKSB7XG4gICAgdmFyIGV4dGVuc2lvbiA9IGlzSW1hZ2VUeXBlKHZhbHVlKSA/IHZhbHVlLnN1YnN0cig2KSA6ICcnO1xuICAgIGlmIChleHRlbnNpb24gPT09ICdqcGVnJykge1xuICAgICAgZXh0ZW5zaW9uID0gJ2pwZyc7XG4gICAgfVxuICAgIHJldHVybiBcIi5cIi5jb25jYXQoZXh0ZW5zaW9uKTtcbiAgfVxuICB2YXIgZnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcblxuICAvKipcbiAgICogR2V0IHN0cmluZyBmcm9tIGNoYXIgY29kZSBpbiBkYXRhIHZpZXcuXG4gICAqIEBwYXJhbSB7RGF0YVZpZXd9IGRhdGFWaWV3IC0gVGhlIGRhdGEgdmlldyBmb3IgcmVhZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IC0gVGhlIHN0YXJ0IGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIC0gVGhlIHJlYWQgbGVuZ3RoLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcmVhZCByZXN1bHQuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTdHJpbmdGcm9tQ2hhckNvZGUoZGF0YVZpZXcsIHN0YXJ0LCBsZW5ndGgpIHtcbiAgICB2YXIgc3RyID0gJyc7XG4gICAgdmFyIGk7XG4gICAgbGVuZ3RoICs9IHN0YXJ0O1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHN0ciArPSBmcm9tQ2hhckNvZGUoZGF0YVZpZXcuZ2V0VWludDgoaSkpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIHZhciBidG9hID0gV0lORE9XLmJ0b2E7XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybSBhcnJheSBidWZmZXIgdG8gRGF0YSBVUkwuXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIC0gVGhlIGFycmF5IGJ1ZmZlciB0byB0cmFuc2Zvcm0uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtaW1lVHlwZSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIERhdGEgVVJMLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcmVzdWx0IERhdGEgVVJMLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlCdWZmZXJUb0RhdGFVUkwoYXJyYXlCdWZmZXIsIG1pbWVUeXBlKSB7XG4gICAgdmFyIGNodW5rcyA9IFtdO1xuICAgIHZhciBjaHVua1NpemUgPSA4MTkyO1xuICAgIHZhciB1aW50OCA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcbiAgICB3aGlsZSAodWludDgubGVuZ3RoID4gMCkge1xuICAgICAgLy8gWFhYOiBCYWJlbCdzIGB0b0NvbnN1bWFibGVBcnJheWAgaGVscGVyIHdpbGwgdGhyb3cgZXJyb3IgaW4gSUUgb3IgU2FmYXJpIDlcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgICBjaHVua3MucHVzaChmcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgdG9BcnJheSh1aW50OC5zdWJhcnJheSgwLCBjaHVua1NpemUpKSkpO1xuICAgICAgdWludDggPSB1aW50OC5zdWJhcnJheShjaHVua1NpemUpO1xuICAgIH1cbiAgICByZXR1cm4gXCJkYXRhOlwiLmNvbmNhdChtaW1lVHlwZSwgXCI7YmFzZTY0LFwiKS5jb25jYXQoYnRvYShjaHVua3Muam9pbignJykpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3JpZW50YXRpb24gdmFsdWUgZnJvbSBnaXZlbiBhcnJheSBidWZmZXIuXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIC0gVGhlIGFycmF5IGJ1ZmZlciB0byByZWFkLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgcmVhZCBvcmllbnRhdGlvbiB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHJlc2V0QW5kR2V0T3JpZW50YXRpb24oYXJyYXlCdWZmZXIpIHtcbiAgICB2YXIgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIpO1xuICAgIHZhciBvcmllbnRhdGlvbjtcblxuICAgIC8vIElnbm9yZXMgcmFuZ2UgZXJyb3Igd2hlbiB0aGUgaW1hZ2UgZG9lcyBub3QgaGF2ZSBjb3JyZWN0IEV4aWYgaW5mb3JtYXRpb25cbiAgICB0cnkge1xuICAgICAgdmFyIGxpdHRsZUVuZGlhbjtcbiAgICAgIHZhciBhcHAxU3RhcnQ7XG4gICAgICB2YXIgaWZkU3RhcnQ7XG5cbiAgICAgIC8vIE9ubHkgaGFuZGxlIEpQRUcgaW1hZ2UgKHN0YXJ0IGJ5IDB4RkZEOClcbiAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50OCgwKSA9PT0gMHhGRiAmJiBkYXRhVmlldy5nZXRVaW50OCgxKSA9PT0gMHhEOCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YVZpZXcuYnl0ZUxlbmd0aDtcbiAgICAgICAgdmFyIG9mZnNldCA9IDI7XG4gICAgICAgIHdoaWxlIChvZmZzZXQgKyAxIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQ4KG9mZnNldCkgPT09IDB4RkYgJiYgZGF0YVZpZXcuZ2V0VWludDgob2Zmc2V0ICsgMSkgPT09IDB4RTEpIHtcbiAgICAgICAgICAgIGFwcDFTdGFydCA9IG9mZnNldDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvZmZzZXQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFwcDFTdGFydCkge1xuICAgICAgICB2YXIgZXhpZklEQ29kZSA9IGFwcDFTdGFydCArIDQ7XG4gICAgICAgIHZhciB0aWZmT2Zmc2V0ID0gYXBwMVN0YXJ0ICsgMTA7XG4gICAgICAgIGlmIChnZXRTdHJpbmdGcm9tQ2hhckNvZGUoZGF0YVZpZXcsIGV4aWZJRENvZGUsIDQpID09PSAnRXhpZicpIHtcbiAgICAgICAgICB2YXIgZW5kaWFubmVzcyA9IGRhdGFWaWV3LmdldFVpbnQxNih0aWZmT2Zmc2V0KTtcbiAgICAgICAgICBsaXR0bGVFbmRpYW4gPSBlbmRpYW5uZXNzID09PSAweDQ5NDk7XG4gICAgICAgICAgaWYgKGxpdHRsZUVuZGlhbiB8fCBlbmRpYW5uZXNzID09PSAweDRENEQgLyogYmlnRW5kaWFuICovKSB7XG4gICAgICAgICAgICBpZiAoZGF0YVZpZXcuZ2V0VWludDE2KHRpZmZPZmZzZXQgKyAyLCBsaXR0bGVFbmRpYW4pID09PSAweDAwMkEpIHtcbiAgICAgICAgICAgICAgdmFyIGZpcnN0SUZET2Zmc2V0ID0gZGF0YVZpZXcuZ2V0VWludDMyKHRpZmZPZmZzZXQgKyA0LCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICAgICAgICBpZiAoZmlyc3RJRkRPZmZzZXQgPj0gMHgwMDAwMDAwOCkge1xuICAgICAgICAgICAgICAgIGlmZFN0YXJ0ID0gdGlmZk9mZnNldCArIGZpcnN0SUZET2Zmc2V0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaWZkU3RhcnQpIHtcbiAgICAgICAgdmFyIF9sZW5ndGggPSBkYXRhVmlldy5nZXRVaW50MTYoaWZkU3RhcnQsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIHZhciBfb2Zmc2V0O1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IF9sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIF9vZmZzZXQgPSBpZmRTdGFydCArIGkgKiAxMiArIDI7XG4gICAgICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQxNihfb2Zmc2V0LCBsaXR0bGVFbmRpYW4pID09PSAweDAxMTIgLyogT3JpZW50YXRpb24gKi8pIHtcbiAgICAgICAgICAgIC8vIDggaXMgdGhlIG9mZnNldCBvZiB0aGUgY3VycmVudCB0YWcncyB2YWx1ZVxuICAgICAgICAgICAgX29mZnNldCArPSA4O1xuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIG9yaWdpbmFsIG9yaWVudGF0aW9uIHZhbHVlXG4gICAgICAgICAgICBvcmllbnRhdGlvbiA9IGRhdGFWaWV3LmdldFVpbnQxNihfb2Zmc2V0LCBsaXR0bGVFbmRpYW4pO1xuXG4gICAgICAgICAgICAvLyBPdmVycmlkZSB0aGUgb3JpZW50YXRpb24gd2l0aCBpdHMgZGVmYXVsdCB2YWx1ZVxuICAgICAgICAgICAgZGF0YVZpZXcuc2V0VWludDE2KF9vZmZzZXQsIDEsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBvcmllbnRhdGlvbiA9IDE7XG4gICAgfVxuICAgIHJldHVybiBvcmllbnRhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBFeGlmIE9yaWVudGF0aW9uIHZhbHVlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb3JpZW50YXRpb24gLSBUaGUgb3JpZW50YXRpb24gdG8gcGFyc2UuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBwYXJzZWQgcmVzdWx0LlxuICAgKi9cbiAgZnVuY3Rpb24gcGFyc2VPcmllbnRhdGlvbihvcmllbnRhdGlvbikge1xuICAgIHZhciByb3RhdGUgPSAwO1xuICAgIHZhciBzY2FsZVggPSAxO1xuICAgIHZhciBzY2FsZVkgPSAxO1xuICAgIHN3aXRjaCAob3JpZW50YXRpb24pIHtcbiAgICAgIC8vIEZsaXAgaG9yaXpvbnRhbFxuICAgICAgY2FzZSAyOlxuICAgICAgICBzY2FsZVggPSAtMTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vIFJvdGF0ZSBsZWZ0IDE4MMKwXG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJvdGF0ZSA9IC0xODA7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBGbGlwIHZlcnRpY2FsXG4gICAgICBjYXNlIDQ6XG4gICAgICAgIHNjYWxlWSA9IC0xO1xuICAgICAgICBicmVhaztcblxuICAgICAgLy8gRmxpcCB2ZXJ0aWNhbCBhbmQgcm90YXRlIHJpZ2h0IDkwwrBcbiAgICAgIGNhc2UgNTpcbiAgICAgICAgcm90YXRlID0gOTA7XG4gICAgICAgIHNjYWxlWSA9IC0xO1xuICAgICAgICBicmVhaztcblxuICAgICAgLy8gUm90YXRlIHJpZ2h0IDkwwrBcbiAgICAgIGNhc2UgNjpcbiAgICAgICAgcm90YXRlID0gOTA7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBGbGlwIGhvcml6b250YWwgYW5kIHJvdGF0ZSByaWdodCA5MMKwXG4gICAgICBjYXNlIDc6XG4gICAgICAgIHJvdGF0ZSA9IDkwO1xuICAgICAgICBzY2FsZVggPSAtMTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vIFJvdGF0ZSBsZWZ0IDkwwrBcbiAgICAgIGNhc2UgODpcbiAgICAgICAgcm90YXRlID0gLTkwO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvdGF0ZTogcm90YXRlLFxuICAgICAgc2NhbGVYOiBzY2FsZVgsXG4gICAgICBzY2FsZVk6IHNjYWxlWVxuICAgIH07XG4gIH1cbiAgdmFyIFJFR0VYUF9ERUNJTUFMUyA9IC9cXC5cXGQqKD86MHw5KXsxMn1cXGQqJC87XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBkZWNpbWFsIG51bWJlci5cbiAgICogQ2hlY2sgb3V0IHtAbGluayBodHRwczovLzAuMzAwMDAwMDAwMDAwMDAwMDQuY29tL31cbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIG5vcm1hbGl6ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFt0aW1lcz0xMDAwMDAwMDAwMDBdIC0gVGhlIHRpbWVzIGZvciBub3JtYWxpemluZy5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbm9ybWFsaXplZCBudW1iZXIuXG4gICAqL1xuICBmdW5jdGlvbiBub3JtYWxpemVEZWNpbWFsTnVtYmVyKHZhbHVlKSB7XG4gICAgdmFyIHRpbWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMDAwMDAwMDAwMDA7XG4gICAgcmV0dXJuIFJFR0VYUF9ERUNJTUFMUy50ZXN0KHZhbHVlKSA/IE1hdGgucm91bmQodmFsdWUgKiB0aW1lcykgLyB0aW1lcyA6IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWF4IHNpemVzIGluIGEgcmVjdGFuZ2xlIHVuZGVyIHRoZSBnaXZlbiBhc3BlY3QgcmF0aW8uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gVGhlIG9yaWdpbmFsIHNpemVzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3R5cGU9J2NvbnRhaW4nXSAtIFRoZSBhZGp1c3QgdHlwZS5cbiAgICogQHJldHVybnMge09iamVjdH0gVGhlIHJlc3VsdCBzaXplcy5cbiAgICovXG4gIGZ1bmN0aW9uIGdldEFkanVzdGVkU2l6ZXMoX3JlZikge1xuICAgIHZhciBhc3BlY3RSYXRpbyA9IF9yZWYuYXNwZWN0UmF0aW8sXG4gICAgICBoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIHdpZHRoID0gX3JlZi53aWR0aDtcbiAgICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ25vbmUnO1xuICAgIHZhciBpc1ZhbGlkV2lkdGggPSBpc1Bvc2l0aXZlTnVtYmVyKHdpZHRoKTtcbiAgICB2YXIgaXNWYWxpZEhlaWdodCA9IGlzUG9zaXRpdmVOdW1iZXIoaGVpZ2h0KTtcbiAgICBpZiAoaXNWYWxpZFdpZHRoICYmIGlzVmFsaWRIZWlnaHQpIHtcbiAgICAgIHZhciBhZGp1c3RlZFdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICBpZiAoKHR5cGUgPT09ICdjb250YWluJyB8fCB0eXBlID09PSAnbm9uZScpICYmIGFkanVzdGVkV2lkdGggPiB3aWR0aCB8fCB0eXBlID09PSAnY292ZXInICYmIGFkanVzdGVkV2lkdGggPCB3aWR0aCkge1xuICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzVmFsaWRXaWR0aCkge1xuICAgICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICB9IGVsc2UgaWYgKGlzVmFsaWRIZWlnaHQpIHtcbiAgICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IEV4aWYgaW5mb3JtYXRpb24gZnJvbSB0aGUgZ2l2ZW4gYXJyYXkgYnVmZmVyLlxuICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciAtIFRoZSBhcnJheSBidWZmZXIgdG8gcmVhZC5cbiAgICogQHJldHVybnMge0FycmF5fSBUaGUgcmVhZCBFeGlmIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0RXhpZihhcnJheUJ1ZmZlcikge1xuICAgIHZhciBhcnJheSA9IHRvQXJyYXkobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgIHZhciBzZWdtZW50cyA9IFtdO1xuICAgIHZhciBzdGFydCA9IDA7XG4gICAgd2hpbGUgKHN0YXJ0ICsgMyA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbc3RhcnRdO1xuICAgICAgdmFyIG5leHQgPSBhcnJheVtzdGFydCArIDFdO1xuXG4gICAgICAvLyBTT1MgKFN0YXJ0IG9mIFNjYW4pXG4gICAgICBpZiAodmFsdWUgPT09IDB4RkYgJiYgbmV4dCA9PT0gMHhEQSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLy8gU09JIChTdGFydCBvZiBJbWFnZSlcbiAgICAgIGlmICh2YWx1ZSA9PT0gMHhGRiAmJiBuZXh0ID09PSAweEQ4KSB7XG4gICAgICAgIHN0YXJ0ICs9IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gYXJyYXlbc3RhcnQgKyAyXSAqIDI1NiArIGFycmF5W3N0YXJ0ICsgM107XG4gICAgICAgIHZhciBlbmQgPSBzdGFydCArIG9mZnNldCArIDI7XG4gICAgICAgIHZhciBzZWdtZW50ID0gYXJyYXkuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgIHN0YXJ0ID0gZW5kO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VnbWVudHMucmVkdWNlKGZ1bmN0aW9uIChleGlmQXJyYXksIGN1cnJlbnQpIHtcbiAgICAgIGlmIChjdXJyZW50WzBdID09PSAweEZGICYmIGN1cnJlbnRbMV0gPT09IDB4RTEpIHtcbiAgICAgICAgcmV0dXJuIGV4aWZBcnJheS5jb25jYXQoY3VycmVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXhpZkFycmF5O1xuICAgIH0sIFtdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNlcnQgRXhpZiBpbmZvcm1hdGlvbiBpbnRvIHRoZSBnaXZlbiBhcnJheSBidWZmZXIuXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIC0gVGhlIGFycmF5IGJ1ZmZlciB0byB0cmFuc2Zvcm0uXG4gICAqIEBwYXJhbSB7QXJyYXl9IGV4aWZBcnJheSAtIFRoZSBFeGlmIGluZm9ybWF0aW9uIHRvIGluc2VydC5cbiAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBUaGUgdHJhbnNmb3JtZWQgYXJyYXkgYnVmZmVyLlxuICAgKi9cbiAgZnVuY3Rpb24gaW5zZXJ0RXhpZihhcnJheUJ1ZmZlciwgZXhpZkFycmF5KSB7XG4gICAgdmFyIGFycmF5ID0gdG9BcnJheShuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgIGlmIChhcnJheVsyXSAhPT0gMHhGRiB8fCBhcnJheVszXSAhPT0gMHhFMCkge1xuICAgICAgcmV0dXJuIGFycmF5QnVmZmVyO1xuICAgIH1cbiAgICB2YXIgYXBwMExlbmd0aCA9IGFycmF5WzRdICogMjU2ICsgYXJyYXlbNV07XG4gICAgdmFyIG5ld0FycmF5QnVmZmVyID0gWzB4RkYsIDB4RDhdLmNvbmNhdChleGlmQXJyYXksIGFycmF5LnNsaWNlKDQgKyBhcHAwTGVuZ3RoKSk7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KG5ld0FycmF5QnVmZmVyKTtcbiAgfVxuXG4gIHZhciBBcnJheUJ1ZmZlciQxID0gV0lORE9XLkFycmF5QnVmZmVyLFxuICAgIEZpbGVSZWFkZXIgPSBXSU5ET1cuRmlsZVJlYWRlcjtcbiAgdmFyIFVSTCA9IFdJTkRPVy5VUkwgfHwgV0lORE9XLndlYmtpdFVSTDtcbiAgdmFyIFJFR0VYUF9FWFRFTlNJT04gPSAvXFwuXFx3KyQvO1xuICB2YXIgQW5vdGhlckNvbXByZXNzb3IgPSBXSU5ET1cuQ29tcHJlc3NvcjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbWFnZSBjb21wcmVzc29yLlxuICAgKiBAY2xhc3NcbiAgICovXG4gIHZhciBDb21wcmVzc29yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgY29uc3RydWN0b3Igb2YgQ29tcHJlc3Nvci5cbiAgICAgKiBAcGFyYW0ge0ZpbGV8QmxvYn0gZmlsZSAtIFRoZSB0YXJnZXQgaW1hZ2UgZmlsZSBmb3IgY29tcHJlc3NpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciBjb21wcmVzc2luZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb21wcmVzc29yKGZpbGUsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wcmVzc29yKTtcbiAgICAgIHRoaXMuZmlsZSA9IGZpbGU7XG4gICAgICB0aGlzLmV4aWYgPSBbXTtcbiAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIHRoaXMub3B0aW9ucyA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBERUZBVUxUUyksIG9wdGlvbnMpO1xuICAgICAgdGhpcy5hYm9ydGVkID0gZmFsc2U7XG4gICAgICB0aGlzLnJlc3VsdCA9IG51bGw7XG4gICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG4gICAgX2NyZWF0ZUNsYXNzKENvbXByZXNzb3IsIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlLFxuICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmICghaXNCbG9iKGZpbGUpKSB7XG4gICAgICAgICAgdGhpcy5mYWlsKG5ldyBFcnJvcignVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBGaWxlIG9yIEJsb2Igb2JqZWN0LicpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pbWVUeXBlID0gZmlsZS50eXBlO1xuICAgICAgICBpZiAoIWlzSW1hZ2VUeXBlKG1pbWVUeXBlKSkge1xuICAgICAgICAgIHRoaXMuZmFpbChuZXcgRXJyb3IoJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGFuIGltYWdlIEZpbGUgb3IgQmxvYiBvYmplY3QuJykpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIVVSTCB8fCAhRmlsZVJlYWRlcikge1xuICAgICAgICAgIHRoaXMuZmFpbChuZXcgRXJyb3IoJ1RoZSBjdXJyZW50IGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBpbWFnZSBjb21wcmVzc2lvbi4nKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQXJyYXlCdWZmZXIkMSkge1xuICAgICAgICAgIG9wdGlvbnMuY2hlY2tPcmllbnRhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgIG9wdGlvbnMucmV0YWluRXhpZiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0pQRUdJbWFnZSA9IG1pbWVUeXBlID09PSAnaW1hZ2UvanBlZyc7XG4gICAgICAgIHZhciBjaGVja09yaWVudGF0aW9uID0gaXNKUEVHSW1hZ2UgJiYgb3B0aW9ucy5jaGVja09yaWVudGF0aW9uO1xuICAgICAgICB2YXIgcmV0YWluRXhpZiA9IGlzSlBFR0ltYWdlICYmIG9wdGlvbnMucmV0YWluRXhpZjtcbiAgICAgICAgaWYgKFVSTCAmJiAhY2hlY2tPcmllbnRhdGlvbiAmJiAhcmV0YWluRXhpZikge1xuICAgICAgICAgIHRoaXMubG9hZCh7XG4gICAgICAgICAgICB1cmw6IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICB0aGlzLnJlYWRlciA9IHJlYWRlcjtcbiAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBfcmVmLnRhcmdldDtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgICAgIHZhciBvcmllbnRhdGlvbiA9IDE7XG4gICAgICAgICAgICBpZiAoY2hlY2tPcmllbnRhdGlvbikge1xuICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgb3JpZW50YXRpb24gdmFsdWUgdG8gaXRzIGRlZmF1bHQgdmFsdWUgMVxuICAgICAgICAgICAgICAvLyBhcyBzb21lIGlPUyBicm93c2VycyB3aWxsIHJlbmRlciBpbWFnZSB3aXRoIGl0cyBvcmllbnRhdGlvblxuICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9IHJlc2V0QW5kR2V0T3JpZW50YXRpb24ocmVzdWx0KTtcbiAgICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID4gMSkge1xuICAgICAgICAgICAgICAgIF9leHRlbmRzKGRhdGEsIHBhcnNlT3JpZW50YXRpb24ob3JpZW50YXRpb24pKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJldGFpbkV4aWYpIHtcbiAgICAgICAgICAgICAgX3RoaXMuZXhpZiA9IGdldEV4aWYocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGVja09yaWVudGF0aW9uIHx8IHJldGFpbkV4aWYpIHtcbiAgICAgICAgICAgICAgaWYgKCFVUkxcblxuICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyBVUkwgd2l0aCB0aGUgZGVmYXVsdCBvcmllbnRhdGlvbiB2YWx1ZSAxLlxuICAgICAgICAgICAgICB8fCBvcmllbnRhdGlvbiA+IDEpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnVybCA9IGFycmF5QnVmZmVyVG9EYXRhVVJMKHJlc3VsdCwgbWltZVR5cGUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEudXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGF0YS51cmwgPSByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5sb2FkKGRhdGEpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmVhZGVyLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5mYWlsKG5ldyBFcnJvcignQWJvcnRlZCB0byByZWFkIHRoZSBpbWFnZSB3aXRoIEZpbGVSZWFkZXIuJykpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5mYWlsKG5ldyBFcnJvcignRmFpbGVkIHRvIHJlYWQgdGhlIGltYWdlIHdpdGggRmlsZVJlYWRlci4nKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucmVhZGVyID0gbnVsbDtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChjaGVja09yaWVudGF0aW9uIHx8IHJldGFpbkV4aWYpIHtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImxvYWRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlLFxuICAgICAgICAgIGltYWdlID0gdGhpcy5pbWFnZTtcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5kcmF3KF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBkYXRhKSwge30sIHtcbiAgICAgICAgICAgIG5hdHVyYWxXaWR0aDogaW1hZ2UubmF0dXJhbFdpZHRoLFxuICAgICAgICAgICAgbmF0dXJhbEhlaWdodDogaW1hZ2UubmF0dXJhbEhlaWdodFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1hZ2Uub25hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczIuZmFpbChuZXcgRXJyb3IoJ0Fib3J0ZWQgdG8gbG9hZCB0aGUgaW1hZ2UuJykpO1xuICAgICAgICB9O1xuICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5mYWlsKG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgdGhlIGltYWdlLicpKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBNYXRjaCBhbGwgYnJvd3NlcnMgdGhhdCB1c2UgV2ViS2l0IGFzIHRoZSBsYXlvdXQgZW5naW5lIGluIGlPUyBkZXZpY2VzLFxuICAgICAgICAvLyBzdWNoIGFzIFNhZmFyaSBmb3IgaU9TLCBDaHJvbWUgZm9yIGlPUywgYW5kIGluLWFwcCBicm93c2Vycy5cbiAgICAgICAgaWYgKFdJTkRPVy5uYXZpZ2F0b3IgJiYgLyg/OmlQYWR8aVBob25lfGlQb2QpLio/QXBwbGVXZWJLaXQvaS50ZXN0KFdJTkRPVy5uYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICAgIC8vIEZpeCB0aGUgYFRoZSBvcGVyYXRpb24gaXMgaW5zZWN1cmVgIGVycm9yICgjNTcpXG4gICAgICAgICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuICAgICAgICBpbWFnZS5hbHQgPSBmaWxlLm5hbWU7XG4gICAgICAgIGltYWdlLnNyYyA9IGRhdGEudXJsO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkcmF3XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdyhfcmVmMikge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcbiAgICAgICAgdmFyIG5hdHVyYWxXaWR0aCA9IF9yZWYyLm5hdHVyYWxXaWR0aCxcbiAgICAgICAgICBuYXR1cmFsSGVpZ2h0ID0gX3JlZjIubmF0dXJhbEhlaWdodCxcbiAgICAgICAgICBfcmVmMiRyb3RhdGUgPSBfcmVmMi5yb3RhdGUsXG4gICAgICAgICAgcm90YXRlID0gX3JlZjIkcm90YXRlID09PSB2b2lkIDAgPyAwIDogX3JlZjIkcm90YXRlLFxuICAgICAgICAgIF9yZWYyJHNjYWxlWCA9IF9yZWYyLnNjYWxlWCxcbiAgICAgICAgICBzY2FsZVggPSBfcmVmMiRzY2FsZVggPT09IHZvaWQgMCA/IDEgOiBfcmVmMiRzY2FsZVgsXG4gICAgICAgICAgX3JlZjIkc2NhbGVZID0gX3JlZjIuc2NhbGVZLFxuICAgICAgICAgIHNjYWxlWSA9IF9yZWYyJHNjYWxlWSA9PT0gdm9pZCAwID8gMSA6IF9yZWYyJHNjYWxlWTtcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGUsXG4gICAgICAgICAgaW1hZ2UgPSB0aGlzLmltYWdlLFxuICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdmFyIGlzOTBEZWdyZWVzUm90YXRlZCA9IE1hdGguYWJzKHJvdGF0ZSkgJSAxODAgPT09IDkwO1xuICAgICAgICB2YXIgcmVzaXphYmxlID0gKG9wdGlvbnMucmVzaXplID09PSAnY29udGFpbicgfHwgb3B0aW9ucy5yZXNpemUgPT09ICdjb3ZlcicpICYmIGlzUG9zaXRpdmVOdW1iZXIob3B0aW9ucy53aWR0aCkgJiYgaXNQb3NpdGl2ZU51bWJlcihvcHRpb25zLmhlaWdodCk7XG4gICAgICAgIHZhciBtYXhXaWR0aCA9IE1hdGgubWF4KG9wdGlvbnMubWF4V2lkdGgsIDApIHx8IEluZmluaXR5O1xuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gTWF0aC5tYXgob3B0aW9ucy5tYXhIZWlnaHQsIDApIHx8IEluZmluaXR5O1xuICAgICAgICB2YXIgbWluV2lkdGggPSBNYXRoLm1heChvcHRpb25zLm1pbldpZHRoLCAwKSB8fCAwO1xuICAgICAgICB2YXIgbWluSGVpZ2h0ID0gTWF0aC5tYXgob3B0aW9ucy5taW5IZWlnaHQsIDApIHx8IDA7XG4gICAgICAgIHZhciBhc3BlY3RSYXRpbyA9IG5hdHVyYWxXaWR0aCAvIG5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIHZhciB3aWR0aCA9IG9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIGlmIChpczkwRGVncmVlc1JvdGF0ZWQpIHtcbiAgICAgICAgICB2YXIgX3JlZjMgPSBbbWF4SGVpZ2h0LCBtYXhXaWR0aF07XG4gICAgICAgICAgbWF4V2lkdGggPSBfcmVmM1swXTtcbiAgICAgICAgICBtYXhIZWlnaHQgPSBfcmVmM1sxXTtcbiAgICAgICAgICB2YXIgX3JlZjQgPSBbbWluSGVpZ2h0LCBtaW5XaWR0aF07XG4gICAgICAgICAgbWluV2lkdGggPSBfcmVmNFswXTtcbiAgICAgICAgICBtaW5IZWlnaHQgPSBfcmVmNFsxXTtcbiAgICAgICAgICB2YXIgX3JlZjUgPSBbaGVpZ2h0LCB3aWR0aF07XG4gICAgICAgICAgd2lkdGggPSBfcmVmNVswXTtcbiAgICAgICAgICBoZWlnaHQgPSBfcmVmNVsxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzaXphYmxlKSB7XG4gICAgICAgICAgYXNwZWN0UmF0aW8gPSB3aWR0aCAvIGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2dldEFkanVzdGVkU2l6ZXMgPSBnZXRBZGp1c3RlZFNpemVzKHtcbiAgICAgICAgICBhc3BlY3RSYXRpbzogYXNwZWN0UmF0aW8sXG4gICAgICAgICAgd2lkdGg6IG1heFdpZHRoLFxuICAgICAgICAgIGhlaWdodDogbWF4SGVpZ2h0XG4gICAgICAgIH0sICdjb250YWluJyk7XG4gICAgICAgIG1heFdpZHRoID0gX2dldEFkanVzdGVkU2l6ZXMud2lkdGg7XG4gICAgICAgIG1heEhlaWdodCA9IF9nZXRBZGp1c3RlZFNpemVzLmhlaWdodDtcbiAgICAgICAgdmFyIF9nZXRBZGp1c3RlZFNpemVzMiA9IGdldEFkanVzdGVkU2l6ZXMoe1xuICAgICAgICAgIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpbyxcbiAgICAgICAgICB3aWR0aDogbWluV2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBtaW5IZWlnaHRcbiAgICAgICAgfSwgJ2NvdmVyJyk7XG4gICAgICAgIG1pbldpZHRoID0gX2dldEFkanVzdGVkU2l6ZXMyLndpZHRoO1xuICAgICAgICBtaW5IZWlnaHQgPSBfZ2V0QWRqdXN0ZWRTaXplczIuaGVpZ2h0O1xuICAgICAgICBpZiAocmVzaXphYmxlKSB7XG4gICAgICAgICAgdmFyIF9nZXRBZGp1c3RlZFNpemVzMyA9IGdldEFkanVzdGVkU2l6ZXMoe1xuICAgICAgICAgICAgYXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvLFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgICB9LCBvcHRpb25zLnJlc2l6ZSk7XG4gICAgICAgICAgd2lkdGggPSBfZ2V0QWRqdXN0ZWRTaXplczMud2lkdGg7XG4gICAgICAgICAgaGVpZ2h0ID0gX2dldEFkanVzdGVkU2l6ZXMzLmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgX2dldEFkanVzdGVkU2l6ZXM0ID0gZ2V0QWRqdXN0ZWRTaXplcyh7XG4gICAgICAgICAgICBhc3BlY3RSYXRpbzogYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBfZ2V0QWRqdXN0ZWRTaXplczQkd2kgPSBfZ2V0QWRqdXN0ZWRTaXplczQud2lkdGg7XG4gICAgICAgICAgd2lkdGggPSBfZ2V0QWRqdXN0ZWRTaXplczQkd2kgPT09IHZvaWQgMCA/IG5hdHVyYWxXaWR0aCA6IF9nZXRBZGp1c3RlZFNpemVzNCR3aTtcbiAgICAgICAgICB2YXIgX2dldEFkanVzdGVkU2l6ZXM0JGhlID0gX2dldEFkanVzdGVkU2l6ZXM0LmhlaWdodDtcbiAgICAgICAgICBoZWlnaHQgPSBfZ2V0QWRqdXN0ZWRTaXplczQkaGUgPT09IHZvaWQgMCA/IG5hdHVyYWxIZWlnaHQgOiBfZ2V0QWRqdXN0ZWRTaXplczQkaGU7XG4gICAgICAgIH1cbiAgICAgICAgd2lkdGggPSBNYXRoLmZsb29yKG5vcm1hbGl6ZURlY2ltYWxOdW1iZXIoTWF0aC5taW4oTWF0aC5tYXgod2lkdGgsIG1pbldpZHRoKSwgbWF4V2lkdGgpKSk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguZmxvb3Iobm9ybWFsaXplRGVjaW1hbE51bWJlcihNYXRoLm1pbihNYXRoLm1heChoZWlnaHQsIG1pbkhlaWdodCksIG1heEhlaWdodCkpKTtcbiAgICAgICAgdmFyIGRlc3RYID0gLXdpZHRoIC8gMjtcbiAgICAgICAgdmFyIGRlc3RZID0gLWhlaWdodCAvIDI7XG4gICAgICAgIHZhciBkZXN0V2lkdGggPSB3aWR0aDtcbiAgICAgICAgdmFyIGRlc3RIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICAgICAgaWYgKHJlc2l6YWJsZSkge1xuICAgICAgICAgIHZhciBzcmNYID0gMDtcbiAgICAgICAgICB2YXIgc3JjWSA9IDA7XG4gICAgICAgICAgdmFyIHNyY1dpZHRoID0gbmF0dXJhbFdpZHRoO1xuICAgICAgICAgIHZhciBzcmNIZWlnaHQgPSBuYXR1cmFsSGVpZ2h0O1xuICAgICAgICAgIHZhciBfZ2V0QWRqdXN0ZWRTaXplczUgPSBnZXRBZGp1c3RlZFNpemVzKHtcbiAgICAgICAgICAgIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpbyxcbiAgICAgICAgICAgIHdpZHRoOiBuYXR1cmFsV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IG5hdHVyYWxIZWlnaHRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjb250YWluOiAnY292ZXInLFxuICAgICAgICAgICAgY292ZXI6ICdjb250YWluJ1xuICAgICAgICAgIH1bb3B0aW9ucy5yZXNpemVdKTtcbiAgICAgICAgICBzcmNXaWR0aCA9IF9nZXRBZGp1c3RlZFNpemVzNS53aWR0aDtcbiAgICAgICAgICBzcmNIZWlnaHQgPSBfZ2V0QWRqdXN0ZWRTaXplczUuaGVpZ2h0O1xuICAgICAgICAgIHNyY1ggPSAobmF0dXJhbFdpZHRoIC0gc3JjV2lkdGgpIC8gMjtcbiAgICAgICAgICBzcmNZID0gKG5hdHVyYWxIZWlnaHQgLSBzcmNIZWlnaHQpIC8gMjtcbiAgICAgICAgICBwYXJhbXMucHVzaChzcmNYLCBzcmNZLCBzcmNXaWR0aCwgc3JjSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXMucHVzaChkZXN0WCwgZGVzdFksIGRlc3RXaWR0aCwgZGVzdEhlaWdodCk7XG4gICAgICAgIGlmIChpczkwRGVncmVlc1JvdGF0ZWQpIHtcbiAgICAgICAgICB2YXIgX3JlZjYgPSBbaGVpZ2h0LCB3aWR0aF07XG4gICAgICAgICAgd2lkdGggPSBfcmVmNlswXTtcbiAgICAgICAgICBoZWlnaHQgPSBfcmVmNlsxXTtcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgaWYgKCFpc0ltYWdlVHlwZShvcHRpb25zLm1pbWVUeXBlKSkge1xuICAgICAgICAgIG9wdGlvbnMubWltZVR5cGUgPSBmaWxlLnR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpbGxTdHlsZSA9ICd0cmFuc3BhcmVudCc7XG5cbiAgICAgICAgLy8gQ29udmVydHMgUE5HIGZpbGVzIG92ZXIgdGhlIGBjb252ZXJ0U2l6ZWAgdG8gSlBFR3MuXG4gICAgICAgIGlmIChmaWxlLnNpemUgPiBvcHRpb25zLmNvbnZlcnRTaXplICYmIG9wdGlvbnMuY29udmVydFR5cGVzLmluZGV4T2Yob3B0aW9ucy5taW1lVHlwZSkgPj0gMCkge1xuICAgICAgICAgIG9wdGlvbnMubWltZVR5cGUgPSAnaW1hZ2UvanBlZyc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzSlBFR0ltYWdlID0gb3B0aW9ucy5taW1lVHlwZSA9PT0gJ2ltYWdlL2pwZWcnO1xuICAgICAgICBpZiAoaXNKUEVHSW1hZ2UpIHtcbiAgICAgICAgICBmaWxsU3R5bGUgPSAnI2ZmZic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPdmVycmlkZSB0aGUgZGVmYXVsdCBmaWxsIGNvbG9yICgjMDAwLCBibGFjaylcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGlmIChvcHRpb25zLmJlZm9yZURyYXcpIHtcbiAgICAgICAgICBvcHRpb25zLmJlZm9yZURyYXcuY2FsbCh0aGlzLCBjb250ZXh0LCBjYW52YXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFib3J0ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICAgIGNvbnRleHQucm90YXRlKHJvdGF0ZSAqIE1hdGguUEkgLyAxODApO1xuICAgICAgICBjb250ZXh0LnNjYWxlKHNjYWxlWCwgc2NhbGVZKTtcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UuYXBwbHkoY29udGV4dCwgW2ltYWdlXS5jb25jYXQocGFyYW1zKSk7XG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICBpZiAob3B0aW9ucy5kcmV3KSB7XG4gICAgICAgICAgb3B0aW9ucy5kcmV3LmNhbGwodGhpcywgY29udGV4dCwgY2FudmFzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hYm9ydGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKGJsb2IpIHtcbiAgICAgICAgICBpZiAoIV90aGlzMy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uIGRvbmUocmVzdWx0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZG9uZSh7XG4gICAgICAgICAgICAgICAgbmF0dXJhbFdpZHRoOiBuYXR1cmFsV2lkdGgsXG4gICAgICAgICAgICAgICAgbmF0dXJhbEhlaWdodDogbmF0dXJhbEhlaWdodCxcbiAgICAgICAgICAgICAgICByZXN1bHQ6IHJlc3VsdFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoYmxvYiAmJiBpc0pQRUdJbWFnZSAmJiBvcHRpb25zLnJldGFpbkV4aWYgJiYgX3RoaXMzLmV4aWYgJiYgX3RoaXMzLmV4aWYubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uIG5leHQoYXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZSh0b0Jsb2IoYXJyYXlCdWZmZXJUb0RhdGFVUkwoaW5zZXJ0RXhpZihhcnJheUJ1ZmZlciwgX3RoaXMzLmV4aWYpLCBvcHRpb25zLm1pbWVUeXBlKSkpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoYmxvYi5hcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIGJsb2IuYXJyYXlCdWZmZXIoKS50aGVuKG5leHQpLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzMy5mYWlsKG5ldyBFcnJvcignRmFpbGVkIHRvIHJlYWQgdGhlIGNvbXByZXNzZWQgaW1hZ2Ugd2l0aCBCbG9iLmFycmF5QnVmZmVyKCkuJykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgICAgIF90aGlzMy5yZWFkZXIgPSByZWFkZXI7XG4gICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChfcmVmNykge1xuICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IF9yZWY3LnRhcmdldDtcbiAgICAgICAgICAgICAgICAgIG5leHQodGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZWFkZXIub25hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzMy5mYWlsKG5ldyBFcnJvcignQWJvcnRlZCB0byByZWFkIHRoZSBjb21wcmVzc2VkIGltYWdlIHdpdGggRmlsZVJlYWRlci4nKSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzMy5mYWlsKG5ldyBFcnJvcignRmFpbGVkIHRvIHJlYWQgdGhlIGNvbXByZXNzZWQgaW1hZ2Ugd2l0aCBGaWxlUmVhZGVyLicpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBfdGhpczMucmVhZGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZG9uZShibG9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjYW52YXMudG9CbG9iKSB7XG4gICAgICAgICAgY2FudmFzLnRvQmxvYihjYWxsYmFjaywgb3B0aW9ucy5taW1lVHlwZSwgb3B0aW9ucy5xdWFsaXR5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayh0b0Jsb2IoY2FudmFzLnRvRGF0YVVSTChvcHRpb25zLm1pbWVUeXBlLCBvcHRpb25zLnF1YWxpdHkpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZG9uZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRvbmUoX3JlZjgpIHtcbiAgICAgICAgdmFyIG5hdHVyYWxXaWR0aCA9IF9yZWY4Lm5hdHVyYWxXaWR0aCxcbiAgICAgICAgICBuYXR1cmFsSGVpZ2h0ID0gX3JlZjgubmF0dXJhbEhlaWdodCxcbiAgICAgICAgICByZXN1bHQgPSBfcmVmOC5yZXN1bHQ7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlLFxuICAgICAgICAgIGltYWdlID0gdGhpcy5pbWFnZSxcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAoVVJMICYmIGltYWdlLnNyYy5pbmRleE9mKCdibG9iOicpID09PSAwKSB7XG4gICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChpbWFnZS5zcmMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAvLyBSZXR1cm5zIG9yaWdpbmFsIGZpbGUgaWYgdGhlIHJlc3VsdCBpcyBncmVhdGVyIHRoYW4gaXQgYW5kIHdpdGhvdXQgc2l6ZSByZWxhdGVkIG9wdGlvbnNcbiAgICAgICAgICBpZiAob3B0aW9ucy5zdHJpY3QgJiYgIW9wdGlvbnMucmV0YWluRXhpZiAmJiByZXN1bHQuc2l6ZSA+IGZpbGUuc2l6ZSAmJiBvcHRpb25zLm1pbWVUeXBlID09PSBmaWxlLnR5cGUgJiYgIShvcHRpb25zLndpZHRoID4gbmF0dXJhbFdpZHRoIHx8IG9wdGlvbnMuaGVpZ2h0ID4gbmF0dXJhbEhlaWdodCB8fCBvcHRpb25zLm1pbldpZHRoID4gbmF0dXJhbFdpZHRoIHx8IG9wdGlvbnMubWluSGVpZ2h0ID4gbmF0dXJhbEhlaWdodCB8fCBvcHRpb25zLm1heFdpZHRoIDwgbmF0dXJhbFdpZHRoIHx8IG9wdGlvbnMubWF4SGVpZ2h0IDwgbmF0dXJhbEhlaWdodCkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZpbGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHJlc3VsdC5sYXN0TW9kaWZpZWQgPSBkYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHJlc3VsdC5sYXN0TW9kaWZpZWREYXRlID0gZGF0ZTtcbiAgICAgICAgICAgIHJlc3VsdC5uYW1lID0gZmlsZS5uYW1lO1xuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBleHRlbnNpb24gdG8gbWF0Y2ggaXRzIHR5cGVcbiAgICAgICAgICAgIGlmIChyZXN1bHQubmFtZSAmJiByZXN1bHQudHlwZSAhPT0gZmlsZS50eXBlKSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5uYW1lID0gcmVzdWx0Lm5hbWUucmVwbGFjZShSRUdFWFBfRVhURU5TSU9OLCBpbWFnZVR5cGVUb0V4dGVuc2lvbihyZXN1bHQudHlwZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBSZXR1cm5zIG9yaWdpbmFsIGZpbGUgaWYgdGhlIHJlc3VsdCBpcyBudWxsIGluIHNvbWUgY2FzZXMuXG4gICAgICAgICAgcmVzdWx0ID0gZmlsZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykge1xuICAgICAgICAgIG9wdGlvbnMuc3VjY2Vzcy5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZmFpbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZhaWwoZXJyKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAob3B0aW9ucy5lcnJvcikge1xuICAgICAgICAgIG9wdGlvbnMuZXJyb3IuY2FsbCh0aGlzLCBlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJhYm9ydFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgICBpZiAoIXRoaXMuYWJvcnRlZCkge1xuICAgICAgICAgIHRoaXMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgICAgaWYgKHRoaXMucmVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRlci5hYm9ydCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaW1hZ2UuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2Uub25hYm9ydCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZhaWwobmV3IEVycm9yKCdUaGUgY29tcHJlc3Npb24gcHJvY2VzcyBoYXMgYmVlbiBhYm9ydGVkLicpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgdGhlIG5vIGNvbmZsaWN0IGNvbXByZXNzb3IgY2xhc3MuXG4gICAgICAgKiBAcmV0dXJucyB7Q29tcHJlc3Nvcn0gVGhlIGNvbXByZXNzb3IgY2xhc3MuXG4gICAgICAgKi9cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJub0NvbmZsaWN0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgICAgd2luZG93LkNvbXByZXNzb3IgPSBBbm90aGVyQ29tcHJlc3NvcjtcbiAgICAgICAgcmV0dXJuIENvbXByZXNzb3I7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2hhbmdlIHRoZSBkZWZhdWx0IG9wdGlvbnMuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBuZXcgZGVmYXVsdCBvcHRpb25zLlxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcInNldERlZmF1bHRzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGVmYXVsdHMob3B0aW9ucykge1xuICAgICAgICBfZXh0ZW5kcyhERUZBVUxUUywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiBDb21wcmVzc29yO1xuICB9KCk7XG5cbiAgcmV0dXJuIENvbXByZXNzb3I7XG5cbn0pKTtcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlIH0gZnJvbSBcInZ1ZVwiO1xuY29uc3QgX2hvaXN0ZWRfMSA9IHsgc3R5bGU6IHsgXCJtYXJnaW5cIjogXCIxMHB4IDBcIiB9IH07XG5jb25zdCBfaG9pc3RlZF8yID0geyBrZXk6IDAgfTtcbmNvbnN0IF9ob2lzdGVkXzMgPSBbXCJzcmNcIl07XG5jb25zdCBfaG9pc3RlZF80ID0gW1wiaHJlZlwiXTtcbmltcG9ydCB7IHJlZiwgcmVhY3RpdmUgfSBmcm9tICd2dWUnO1xuaW1wb3J0IENvbXByZXNzb3IgZnJvbSAnY29tcHJlc3NvcmpzJztcbmV4cG9ydCBkZWZhdWx0IC8qQF9fUFVSRV9fKi8gX2RlZmluZUNvbXBvbmVudCh7XG4gICAgX19uYW1lOiAnQ29tcHJlc3MnLFxuICAgIHByb3BzOiB7XG4gICAgICAgIGltZ0ZpbGU6IHt9XG4gICAgfSxcbiAgICBzZXR1cChfX3Byb3BzKSB7XG4gICAgICAgIGNvbnN0IHByb3BzID0gX19wcm9wcztcbiAgICAgICAgY29uc3QgY29tcHJlc3NlZEltZyA9IHJlYWN0aXZlKHsgbmFtZTogJycsIHNpemU6IDAsIHR5cGU6ICcnLCBsaW5rOiAnJywgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcbiAgICAgICAgY29uc3QgcXVhbGl0eSA9IHJlZigwLjcpO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSByZWYoMCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gcmVmKDApO1xuICAgICAgICBjb25zdCBleGN1dGUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHF1YWxpdHk6IHF1YWxpdHkudmFsdWUsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyhyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcHJlc3NlZEltZ1snbmFtZSddID0gcmVzWyduYW1lJ107XG4gICAgICAgICAgICAgICAgICAgIGNvbXByZXNzZWRJbWdbJ3NpemUnXSA9IHJlc1snc2l6ZSddO1xuICAgICAgICAgICAgICAgICAgICBjb21wcmVzc2VkSW1nWyd0eXBlJ10gPSByZXNbJ3R5cGUnXTtcbiAgICAgICAgICAgICAgICAgICAgY29tcHJlc3NlZEltZ1snbGluayddID0gVVJMLmNyZWF0ZU9iamVjdFVSTChyZXMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3IoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGhlaWdodC52YWx1ZSAmJiAocGFyYW1zWydoZWlnaHQnXSA9IGhlaWdodC52YWx1ZSk7XG4gICAgICAgICAgICB3aWR0aC52YWx1ZSAmJiAocGFyYW1zWyd3aWR0aCddID0gd2lkdGgudmFsdWUpO1xuICAgICAgICAgICAgbmV3IENvbXByZXNzb3IocHJvcHMuaW1nRmlsZSwgcGFyYW1zKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKFwiZGl2XCIsIG51bGwsIFtcbiAgICAgICAgICAgICAgICBfY2FjaGVbOF0gfHwgKF9jYWNoZVs4XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJoMVwiLCBudWxsLCBcIuWbvueJh+WOi+e8qVwiLCAtMSAvKiBIT0lTVEVEICovKSksXG4gICAgICAgICAgICAgICAgX2NhY2hlWzldIHx8IChfY2FjaGVbOV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKFwicFwiLCBudWxsLCBcIuaPkOekuu+8muatpOWOi+e8qeaooeWdl+aVtOS4qui/h+eoi+eUseWJjeerr+WujOaIkO+8jOaXoOmcgOWQjuerr+WPguS4juOAgumrmOWuveaOqOiNkOmAieaLqeWFtuS4reS4gOS4qu+8jOetieavlOS+i+e8qeaUvuWbvueJh++8jOS4jeiuvue9rumrmOWuveWwuuWvuOWImeaYr+WOn+WbvuWkp+Wwj+OAglwiLCAtMSAvKiBIT0lTVEVEICovKSksXG4gICAgICAgICAgICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCBfaG9pc3RlZF8xLCBbXG4gICAgICAgICAgICAgICAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgbnVsbCwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSBfY3JlYXRlRWxlbWVudFZOb2RlKFwibGFiZWxcIiwgbnVsbCwgXCLpq5jluqbvvJpcIiwgLTEgLyogSE9JU1RFRCAqLykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiaW5wdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIumrmOW6plwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib25VcGRhdGU6bW9kZWxWYWx1ZVwiOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICgkZXZlbnQpID0+ICgoaGVpZ2h0KS52YWx1ZSA9ICRldmVudCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IFwibWF4LXdpZHRoXCI6IFwiNDAwcHhcIiB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBudWxsLCA1MTIgLyogTkVFRF9QQVRDSCAqLyksIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZNb2RlbFRleHQsIGhlaWdodC52YWx1ZV1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIG51bGwsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZShcImxhYmVsXCIsIG51bGwsIFwi5a695bqm77yaXCIsIC0xIC8qIEhPSVNURUQgKi8pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImlucHV0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCLlrr3luqZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9uVXBkYXRlOm1vZGVsVmFsdWVcIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAoJGV2ZW50KSA9PiAoKHdpZHRoKS52YWx1ZSA9ICRldmVudCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IFwibWF4LXdpZHRoXCI6IFwiNDAwcHhcIiB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBudWxsLCA1MTIgLyogTkVFRF9QQVRDSCAqLyksIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZNb2RlbFRleHQsIHdpZHRoLnZhbHVlXVxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJkaXZcIiwgbnVsbCwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKFwibGFiZWxcIiwgbnVsbCwgXCLlm77niYfotKjph4/vvJpcIiwgLTEgLyogSE9JU1RFRCAqLykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiaW5wdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlRleHQgaW5wdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9uVXBkYXRlOm1vZGVsVmFsdWVcIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSAoJGV2ZW50KSA9PiAoKHF1YWxpdHkpLnZhbHVlID0gJGV2ZW50KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgXCJtYXgtd2lkdGhcIjogXCI0MDBweFwiIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDUxMiAvKiBORUVEX1BBVENIICovKSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtfdk1vZGVsVGV4dCwgcXVhbGl0eS52YWx1ZV1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImJ1dHRvbiBpcy1wcmltYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBleGN1dGVcbiAgICAgICAgICAgICAgICAgICAgfSwgXCLljovnvKlcIilcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIG51bGwsIFtcbiAgICAgICAgICAgICAgICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcInBcIiwgbnVsbCwgXCLlm77niYfljp/lp4vlpKflsI/kuLrvvJpcIiArIF90b0Rpc3BsYXlTdHJpbmcoKHByb3BzLmltZ0ZpbGVbJ3NpemUnXSAvIDEwMjQgLyAxMDI0KS50b0ZpeGVkKDIpKSArIFwiTUJcIiwgMSAvKiBURVhUICovKSxcbiAgICAgICAgICAgICAgICAgICAgKGNvbXByZXNzZWRJbWcubGluaylcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhcImRpdlwiLCBfaG9pc3RlZF8yLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhY2hlWzddIHx8IChfY2FjaGVbN10gPSBfY3JlYXRlRWxlbWVudFZOb2RlKFwicFwiLCBudWxsLCBcIui0qOmHj+S4ujAuN++8jOWOi+e8qeaIkOWKn++8gVwiLCAtMSAvKiBIT0lTVEVEICovKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcInBcIiwgbnVsbCwgXCLljovnvKnlkI7lpKflsI/kuLrvvJpcIiArIF90b0Rpc3BsYXlTdHJpbmcoKGNvbXByZXNzZWRJbWcuc2l6ZSAvIDEwMjQgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMDI0KS50b0ZpeGVkKDIpKSArIFwiTUJcIiwgMSAvKiBURVhUICovKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwiZGl2XCIsIG51bGwsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImltZ1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM6IGNvbXByZXNzZWRJbWcubGluayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IFwiaGVpZ2h0XCI6IFwiMjAwcHhcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0OiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIF9ob2lzdGVkXzMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcImFcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOiBjb21wcmVzc2VkSW1nLmxpbmssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgX2NhY2hlWzZdIHx8IChfY2FjaGVbNl0gPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJidXR0b25cIiwgeyBjbGFzczogXCJidXR0b24gaXMtbGlua1wiIH0sIFwi5LiL6L295Zu+54mHXCIsIC0xIC8qIEhPSVNURUQgKi8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksIDggLyogUFJPUFMgKi8sIF9ob2lzdGVkXzQpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogX2NyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXSkpO1xuICAgICAgICB9O1xuICAgIH1cbn0pO1xuIiwiaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9Db21wcmVzcy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZz10c1wiXG5leHBvcnQgKiBmcm9tIFwiLi9Db21wcmVzcy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZz10c1wiXG5cbmNvbnN0IF9fZXhwb3J0c19fID0gc2NyaXB0O1xuXG5leHBvcnQgZGVmYXVsdCBfX2V4cG9ydHNfXyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwib3duS2V5cyIsIm9iamVjdCIsImVudW1lcmFibGVPbmx5Iiwia2V5cyIsIk9iamVjdCIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbHMiLCJmaWx0ZXIiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZDIiLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwiZm9yRWFjaCIsImtleSIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJfZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX3RvUHJvcGVydHlLZXkiLCJvYmoiLCJ2YWx1ZSIsIl9leHRlbmRzIiwiYXNzaWduIiwiYmluZCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInRoaXMiLCJhcmciLCJpbnB1dCIsImhpbnQiLCJwcmltIiwiU3ltYm9sIiwidG9QcmltaXRpdmUiLCJ1bmRlZmluZWQiLCJyZXMiLCJUeXBlRXJyb3IiLCJTdHJpbmciLCJOdW1iZXIiLCJfdG9QcmltaXRpdmUiLCJjYW52YXNUb0Jsb2IiLCJ3aW5kb3ciLCJDYW52YXNQcm90b3R5cGUiLCJIVE1MQ2FudmFzRWxlbWVudCIsImhhc0Jsb2JDb25zdHJ1Y3RvciIsIkJsb2IiLCJCb29sZWFuIiwiZSIsImhhc0FycmF5QnVmZmVyVmlld1N1cHBvcnQiLCJVaW50OEFycmF5Iiwic2l6ZSIsIkJsb2JCdWlsZGVyIiwiV2ViS2l0QmxvYkJ1aWxkZXIiLCJNb3pCbG9iQnVpbGRlciIsIk1TQmxvYkJ1aWxkZXIiLCJkYXRhVVJJUGF0dGVybiIsImRhdGFVUkx0b0Jsb2IiLCJhdG9iIiwiQXJyYXlCdWZmZXIiLCJkYXRhVVJJIiwibWF0Y2hlcyIsIm1lZGlhVHlwZSIsImlzQmFzZTY0IiwiZGF0YVN0cmluZyIsImJ5dGVTdHJpbmciLCJhcnJheUJ1ZmZlciIsImludEFycmF5IiwiYmIiLCJtYXRjaCIsIkVycm9yIiwic2xpY2UiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjaGFyQ29kZUF0IiwidHlwZSIsImFwcGVuZCIsImdldEJsb2IiLCJ0b0Jsb2IiLCJtb3pHZXRBc0ZpbGUiLCJjYWxsYmFjayIsInF1YWxpdHkiLCJzZWxmIiwic2V0VGltZW91dCIsInRvRGF0YVVSTCIsIm1zVG9CbG9iIiwiREVGQVVMVFMiLCJzdHJpY3QiLCJjaGVja09yaWVudGF0aW9uIiwicmV0YWluRXhpZiIsIm1heFdpZHRoIiwiSW5maW5pdHkiLCJtYXhIZWlnaHQiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIndpZHRoIiwiaGVpZ2h0IiwicmVzaXplIiwibWltZVR5cGUiLCJjb252ZXJ0VHlwZXMiLCJjb252ZXJ0U2l6ZSIsImJlZm9yZURyYXciLCJkcmV3Iiwic3VjY2VzcyIsImVycm9yIiwiV0lORE9XIiwiZG9jdW1lbnQiLCJpc1Bvc2l0aXZlTnVtYmVyIiwiQXJyYXkiLCJ0b0FycmF5IiwiZnJvbSIsIlJFR0VYUF9JTUFHRV9UWVBFIiwiaXNJbWFnZVR5cGUiLCJ0ZXN0IiwiZnJvbUNoYXJDb2RlIiwiYnRvYSIsImFycmF5QnVmZmVyVG9EYXRhVVJMIiwiY2h1bmtzIiwidWludDgiLCJzdWJhcnJheSIsImNvbmNhdCIsImpvaW4iLCJyZXNldEFuZEdldE9yaWVudGF0aW9uIiwib3JpZW50YXRpb24iLCJkYXRhVmlldyIsIkRhdGFWaWV3IiwibGl0dGxlRW5kaWFuIiwiYXBwMVN0YXJ0IiwiaWZkU3RhcnQiLCJnZXRVaW50OCIsImJ5dGVMZW5ndGgiLCJvZmZzZXQiLCJ0aWZmT2Zmc2V0Iiwic3RhcnQiLCJzdHIiLCJnZXRTdHJpbmdGcm9tQ2hhckNvZGUiLCJlbmRpYW5uZXNzIiwiZ2V0VWludDE2IiwiZmlyc3RJRkRPZmZzZXQiLCJnZXRVaW50MzIiLCJfb2Zmc2V0IiwiX2xlbmd0aCIsInNldFVpbnQxNiIsIlJFR0VYUF9ERUNJTUFMUyIsIm5vcm1hbGl6ZURlY2ltYWxOdW1iZXIiLCJ0aW1lcyIsIk1hdGgiLCJyb3VuZCIsImdldEFkanVzdGVkU2l6ZXMiLCJfcmVmIiwiYXNwZWN0UmF0aW8iLCJpc1ZhbGlkV2lkdGgiLCJpc1ZhbGlkSGVpZ2h0IiwiYWRqdXN0ZWRXaWR0aCIsIkFycmF5QnVmZmVyJDEiLCJGaWxlUmVhZGVyIiwiVVJMIiwid2Via2l0VVJMIiwiUkVHRVhQX0VYVEVOU0lPTiIsIkFub3RoZXJDb21wcmVzc29yIiwiQ29tcHJlc3NvciIsImZpbGUiLCJvcHRpb25zIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9jbGFzc0NhbGxDaGVjayIsImV4aWYiLCJpbWFnZSIsIkltYWdlIiwiYWJvcnRlZCIsInJlc3VsdCIsImluaXQiLCJzdGF0aWNQcm9wcyIsInByb3RvUHJvcHMiLCJfdGhpcyIsInRvU3RyaW5nIiwiaXNKUEVHSW1hZ2UiLCJyZWFkZXIiLCJvbmxvYWQiLCJkYXRhIiwicm90YXRlIiwic2NhbGVYIiwic2NhbGVZIiwicGFyc2VPcmllbnRhdGlvbiIsImFycmF5Iiwic2VnbWVudHMiLCJuZXh0IiwiZW5kIiwic2VnbWVudCIsInJlZHVjZSIsImV4aWZBcnJheSIsImN1cnJlbnQiLCJnZXRFeGlmIiwidXJsIiwiY3JlYXRlT2JqZWN0VVJMIiwibG9hZCIsIm9uYWJvcnQiLCJmYWlsIiwib25lcnJvciIsIm9ubG9hZGVuZCIsInJlYWRBc0FycmF5QnVmZmVyIiwicmVhZEFzRGF0YVVSTCIsIl90aGlzMiIsImRyYXciLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiY3Jvc3NPcmlnaW4iLCJhbHQiLCJuYW1lIiwic3JjIiwiX3JlZjIiLCJfdGhpczMiLCJfcmVmMiRyb3RhdGUiLCJfcmVmMiRzY2FsZVgiLCJfcmVmMiRzY2FsZVkiLCJjYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiY29udGV4dCIsImdldENvbnRleHQiLCJpczkwRGVncmVlc1JvdGF0ZWQiLCJhYnMiLCJyZXNpemFibGUiLCJtYXgiLCJfcmVmMyIsIl9yZWY0IiwiX3JlZjUiLCJfZ2V0QWRqdXN0ZWRTaXplcyIsIl9nZXRBZGp1c3RlZFNpemVzMiIsIl9nZXRBZGp1c3RlZFNpemVzMyIsIl9nZXRBZGp1c3RlZFNpemVzNCIsIl9nZXRBZGp1c3RlZFNpemVzNCR3aSIsIl9nZXRBZGp1c3RlZFNpemVzNCRoZSIsImRlc3RYIiwiZmxvb3IiLCJtaW4iLCJkZXN0WSIsImRlc3RXaWR0aCIsImRlc3RIZWlnaHQiLCJwYXJhbXMiLCJzcmNYIiwic3JjWSIsInNyY1dpZHRoIiwic3JjSGVpZ2h0IiwiX2dldEFkanVzdGVkU2l6ZXM1IiwiY29udGFpbiIsImNvdmVyIiwiX3JlZjYiLCJmaWxsU3R5bGUiLCJpbmRleE9mIiwiZmlsbFJlY3QiLCJzYXZlIiwidHJhbnNsYXRlIiwiUEkiLCJzY2FsZSIsImRyYXdJbWFnZSIsInJlc3RvcmUiLCJibG9iIiwiZG9uZSIsImFwcDBMZW5ndGgiLCJuZXdBcnJheUJ1ZmZlciIsImluc2VydEV4aWYiLCJ0aGVuIiwiY2F0Y2giLCJfcmVmNyIsIl9yZWY4IiwiZXh0ZW5zaW9uIiwicmV2b2tlT2JqZWN0VVJMIiwiZGF0ZSIsIkRhdGUiLCJsYXN0TW9kaWZpZWQiLCJnZXRUaW1lIiwibGFzdE1vZGlmaWVkRGF0ZSIsInJlcGxhY2UiLCJzdWJzdHIiLCJlcnIiLCJhYm9ydCIsImNvbXBsZXRlIiwiZmFjdG9yeSIsIl9ob2lzdGVkXzEiLCJzdHlsZSIsIl9ob2lzdGVkXzIiLCJfaG9pc3RlZF8zIiwiX2hvaXN0ZWRfNCIsIl9fbmFtZSIsImltZ0ZpbGUiLCJzZXR1cCIsIl9fcHJvcHMiLCJjb21wcmVzc2VkSW1nIiwibGluayIsImV4Y3V0ZSIsImFzeW5jIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJfY3R4IiwiX2NhY2hlIiwiY2xhc3MiLCJwbGFjZWhvbGRlciIsIiRldmVudCIsIm9uQ2xpY2siLCJ0b0ZpeGVkIiwiaHJlZiIsImRvd25sb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==